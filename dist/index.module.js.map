{"version":3,"file":"index.module.js","sources":["../../src/index.js"],"sourcesContent":["const calcTransformation = (source, target) => {\n  return {\n    x: source.offsetLeft - target.offsetLeft,\n    y: source.offsetTop - target.offsetTop,\n    scaleY: target.offsetHeight / source.offsetHeight,\n    scaleX: target.offsetWidth / source.offsetWidth,\n  };\n};\n\nexport const morph = (\n  source,\n  target,\n  {\n    duration = 1,\n    timingFunction = '',\n    effectedCssProperties = ['background', 'border', 'border-radius'],\n  } = {}\n) => {\n  source.innerHTML = `<div>${source.innerHTML}</div>`;\n  const contentWrapper = source.children[0];\n\n  const transformation = calcTransformation(source, target);\n  const targetStyles = window.getComputedStyle(target);\n\n  source.style.transformOrigin = 'top left';\n  source.style.transition = `${['transform', ...effectedCssProperties].join(\n    ` ${duration}s ${timingFunction},`\n  )}, opacity ${duration}s ${duration * 1.5}s`;\n\n  source.style.transform = `translate(${-transformation.x}px, ${-transformation.y}px) scale(${\n    transformation.scaleX\n  }, ${transformation.scaleY})`;\n  source.style.opacity = '0';\n  effectedCssProperties.forEach(\n    (prop) => (source.style[prop] = targetStyles[prop])\n  );\n\n  contentWrapper.style.transition = `opacity ${\n    duration * 0.5\n  }s ${timingFunction}`;\n  contentWrapper.style.opacity = '0';\n\n  target.style.transition = `opacity ${duration}s ${duration}s`;\n  target.style.opacity = '1';\n};\n"],"names":["morph","source","target","duration","timingFunction","effectedCssProperties","innerHTML","contentWrapper","children","transformation","x","offsetLeft","y","offsetTop","scaleY","offsetHeight","scaleX","offsetWidth","calcTransformation","targetStyles","window","getComputedStyle","style","transformOrigin","transition","join","transform","opacity","forEach","prop"],"mappings":"AAAA,IASaA,EAAQ,SACnBC,EACAC,sBAKI,SAHFC,SAAAA,aAAW,QACXC,eAAAA,aAAiB,SACjBC,sBAAAA,aAAwB,CAAC,aAAc,SAAU,mBAGnDJ,EAAOK,kBAAoBL,EAAOK,mBAClC,IAAMC,EAAiBN,EAAOO,SAAS,GAEjCC,EArBmB,SAACR,EAAQC,GAClC,MAAO,CACLQ,EAAGT,EAAOU,WAAaT,EAAOS,WAC9BC,EAAGX,EAAOY,UAAYX,EAAOW,UAC7BC,OAAQZ,EAAOa,aAAed,EAAOc,aACrCC,OAAQd,EAAOe,YAAchB,EAAOgB,aAgBfC,CAAmBjB,EAAQC,GAC5CiB,EAAeC,OAAOC,iBAAiBnB,GAE7CD,EAAOqB,MAAMC,gBAAkB,WAC/BtB,EAAOqB,MAAME,WAAgB,CAAC,oBAAgBnB,GAAuBoB,SAC/DtB,OAAaC,oBACLD,OAAwB,IAAXA,MAE3BF,EAAOqB,MAAMI,wBAA0BjB,EAAeC,UAASD,EAAeG,eAC5EH,EAAeO,YACZP,EAAeK,WACpBb,EAAOqB,MAAMK,QAAU,IACvBtB,EAAsBuB,QACpB,SAACC,UAAU5B,EAAOqB,MAAMO,GAAQV,EAAaU,KAG/CtB,EAAee,MAAME,sBACR,GAAXrB,OACGC,EACLG,EAAee,MAAMK,QAAU,IAE/BzB,EAAOoB,MAAME,sBAAwBrB,OAAaA,MAClDD,EAAOoB,MAAMK,QAAU"}