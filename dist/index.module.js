function t(t,i){var s=window.getComputedStyle(t);return i.reduce(function(t,i){return t[i]=s.getPropertyValue(i),t},{})}function i(i,s,e){var o=void 0===e?{}:e,r=o.duration,n=void 0===r?1:r,y=o.timingFunction,a=void 0===y?"":y,l=o.effectedCssProperties,c=o.affectedCssProperties,f=void 0===c?["background-color","border-radius","border"]:c;l&&(f=l);var p=t(s,f),d=t(i,f),v=function(t,i){return{x:t.offsetLeft-i.offsetLeft,y:t.offsetTop-i.offsetTop,scaleY:i.offsetHeight/t.offsetHeight,scaleX:i.offsetWidth/t.offsetWidth}}(i,s);i.innerHTML="<div>"+i.innerHTML+"</div>";var u=i.children[0];return i.style.transformOrigin="top left",s.style.visibility="hidden",{morph:function(){i.style.transition=["transform"].concat(f).join(" "+n+"s "+a+",")+", opacity "+n+"s "+1.5*n+"s, visibility 0s "+(1.5*n+n)+"s",u.style.transition="opacity "+.5*n+"s "+a,s.style.transition="opacity "+n+"s "+n+"s, visibility 0s "+n+"s",i.style.transform="translate("+-v.x+"px, "+-v.y+"px) scale("+v.scaleX+", "+v.scaleY+")",i.style.opacity="0",i.style.visibility="hidden",f.forEach(function(t){return void 0!==p[t]&&i.style.setProperty(t,p[t])}),u.style.opacity="0",s.style.opacity="1",s.style.visibility="visible"},revert:function(){i.style.transition=["transform"].concat(f).join(" "+n+"s "+.2*n+"s "+a+",")+", opacity 0s, visibility 0s",u.style.transition="opacity "+n+"s "+.5*n+"s "+a,s.style.transition="opacity "+.2*n+"s, visibility 0s "+.2*n+"s",i.style.transform="translate(0px, 0px) scale(1, 1)",i.style.opacity="1",i.style.visibility="visible",f.forEach(function(t){return void 0!==d[t]&&i.style.setProperty(t,d[t])}),u.style.opacity="1",s.style.opacity="0",s.style.visibility="hidden"}}}function s(t,s,e){i(t,s,e).morph()}export{i as createMorphable,s as morph};
